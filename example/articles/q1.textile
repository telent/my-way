title: Daniel Barlow -- Diary June 2002
author: Daniel Barlow
date: Mon, 1 Jan 1900 0:0:1 +0000

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 3.2//EN">
<html><head>
<LINK rel="stylesheet"  href="../dan.css">
<title>Daniel Barlow -- Diary June 2002</title>
</head><body>
It's a diary.  
<a href="http://www.off.net/diary/">All</a> <a
href="http://www.lemonodor.com">the</a> <a
href="http://www.linux.org.uk/~telsa/Diary/diary.html">fashionable</a>
<a href="http://www.linux.org.uk/diary/">people</a> <a
href="http://www.nat.org/">seem</a> <a
href="http://www.neilvandyke.org/weblog/">to</a> 
<a href="http://diary.codemonkey.org.uk/">have</a>
<a href="http://www.advogato.org/person/bryce/">something</a>
<a href="http://www.dmason.net/">like</a>
<a href="http://off.net/~shaver/diary/">this</a>.
Now we have permalinks and a moderately intelligent compromise for
bookmarking purposes.
<h1>June 2002</h1>
<h2><a name="11">Tue, 11 Jun 2002 04:42:55 GMT</a>  (<a href="http://ww.noetbook.telent.net/diary/2002/6/#11">#</a>)</h2>

Look Ma, a brand new diary system.  One-file-per-entry, lashings of
Common Lisp, and moderate amounts of emacs glue.  The only real gap
(so far) is a way of telling emacs that these files are fragments of
HTML BODY content so I can use psgml for element competion and
suchlike.

<p>Local timezones in the entry titles would be nice too, perhaps.  On
the other hand there are arguments for UTC.<h2><a name="11">Tue, 11 Jun 2002 03:56:59 GMT</a>  (<a href="http://ww.noetbook.telent.net/diary/2002/6/#11">#</a>)</h2>

<h2>Thu Jun  6 02:04:09 2002</h2>

<p> I think I'd forgotten how to make <a href="/cliki/vn-cclan"
>vn-cclan packages</a>:
<pre>
* (asdf:operate 'asdf:load-op 'cclan)
* (dolist (s '(araneida cliki)) (cclan::cvs-tag s) (cclan::make-tar-file s))
</pre>

<p>New araneida and cliki packages in your nearest vn-cclan mirror as
soon as they propagate, then

<p>In other news, SBCL for Tru64 appears not to have bitrotted, so I
should be checking that in tomorrow.  Just want to build it with
itself again first.

<h2><a name="11">Tue, 11 Jun 2002 00:17:45 GMT</a>  (<a href="http://ww.noetbook.telent.net/diary/2002/6/#11">#</a>)</h2>


<p> So, after all the blogging discussion at <a
href="http://www.ntk.net/">XCOM 2002</a>, and prodded by the fact that
someone had actually <i>asked</i> for it, I decided it was time to
investigate all that RDF/RSS/news feeds/syndication business.  Not
(yet, anyway) for this diary, but for 
<a href="/cliki/">CLiki</a>'s
<a href="/cliki/Recent_Changes">Recent Changes</a>.

<ul>
<li>There are four versions: 0.9, 0.91, 0.92, 1.0

<li>0.9 is apparently deprecated.  This hasn't yet stopped slashdot and a
billion other sites from using it, but let's assume we should avoid it
for new work.

<li>1.0 seems to be less of a web site summary format and more an
attempt to take over the world.  Its authors share the common delusion
that if they can simply agree on the symbols between the angle
brackets, they can avoid the <i>hard</i> questions about how to
categorize the planet, and their plan does tend to suffer slightly due
to these priorities. 

<li> 0.92 is backward compatible with 0.91 (which you'd expect for a
1% change in version number, really).  0.91 was not compatible with
0.9; perhaps the people who were around at the time had their
expectations conditioned appropriately by this fine piece of
engineering management, which is why they feel so excited by about
compatibility now.

<li>There is <b>no DTD</b> for 0.92, nor can I find one of those
new-fangled we're-too-dumb-to-read-dtds xml equivalent things.  The
nearest thing is a document on the userland site laughably termed a <a
href="http://backend.userland.com/rss092" >specification</a>, but how
can you have a <i>validator</i> if there's nothing to validate
against?  You can't even write a valid DOCTYPE.

<li>This is a more pertinent question than you might have thought, as
userland have a <a href="http://aggregator.userland.com/validator">
"validator"</a> on their site.  My rdf files pass it.

<li>But whatever their <a
href="http://aggregator.userland.com/register">registration form</a>
does <i>also</i> involves
some kind of validation(sic), and that <i>doesn't</i> work, failing with
the error message

<pre>
  There was a problem reading or parsing your XML file. Here's the
  error message.

     Can't get the address of "language" because the table doesn't
     have an object with that name.
</pre>

This is well up to the Oracle standards for reporting the specifics of
what went wrong, but it's also inaccurate: if we assume that it means
``a required "language" element is missing from (somewhere)'', it's
wrong, because "language" is optional in 0.92.
</li>
</ul>

<p>Can you tell how impressed I am by this?  An RDF probably-RSS feed
of CLiki is now available from <a
href="http://ww.telent.net/cliki/recent-changes.rdf"
>http://ww.telent.net/cliki/recent-changes.rdf</a> anyway.  Let me
know if you find anything useful to do with it.

<p>More <a href="/cclan-choose-mirror">CCLAN mirrors</a>.  Now we need
some more content, really.

<h2><a name="6">Thu, 06 Jun 2002 23:06:05 GMT</a>  (<a href="http://ww.noetbook.telent.net/diary/2002/6/#6">#</a>)</h2>


<p> We have another vn-cclan mirror: <a
href="ftp://www.aarg.net/pub/cclan/" >ftp://www.aarg.net/pub/cclan/</a>.
Prompted by this encouraging result and the hope that it presages more
to come, I hacked at telent.net's 
<a href="/cclan-choose-mirror">CCLAN redirector</a> so that now you
can get rid of your earlier choice and select another without having
to fiddle around with cookies.txt or something

<p> I found something that I'm reasonably convinced is an actual SBCL
bug while rebuilding on OSF/1.  <tt>interrupt_maybe_gc</tt>
establishes that the gc trigger has been hit.  It clears the trigger,
calls the Lisp function <tt>MAYBE-GC</tt>.  <tt>MAYBE-GC</tt> calls
<tt>SUB-GC</tt>, which if <tt>*GC-INHIBIT*</tt> is set, returns
immediately without resetting the trigger - which it would have done
had it actually GCed.  So, after that we cons until we run straight
off the end of dynamic space.  I fixed it by making
<tt>interrupt_maybe_gc</tt> check whether a GC had happened, and  
resetting the trigger itself if it hadn't, but I think that's probably
more of a kludge than a fix.


<h2><a name="6">Thu, 06 Jun 2002 01:04:09 GMT</a>  (<a href="http://ww.noetbook.telent.net/diary/2002/6/#6">#</a>)</h2>


<p> I think I'd forgotten how to make <a href="/cliki/vn-cclan"
>vn-cclan packages</a>:
<pre>
* (asdf:operate 'asdf:load-op 'cclan)
* (dolist (s '(araneida cliki)) (cclan::cvs-tag s) (cclan::make-tar-file s))
</pre>

<p>New araneida and cliki packages in your nearest vn-cclan mirror as
soon as they propagate, then

<p>In other news, SBCL for Tru64 appears not to have bitrotted, so I
should be checking that in tomorrow.  Just want to build it with
itself again first.

<h2><a name="5">Wed, 05 Jun 2002 23:01:43 GMT</a>  (<a href="http://ww.noetbook.telent.net/diary/2002/6/#5">#</a>)</h2>


<p> Try the GNU Project's <a
href="http://www.gnu.org/cgi-bin/license-quiz.cgi" >Free Software
licensing quiz</a>.  For what it's worth, I got two wrong: question 6:
offer-of-sources-for-binary-distribution (which I should have known)
and the reverse-engineering question, about which I don't really care.

<p> It suits people to claim that the GNU Licenses are overly
restrictive and this will encourage users of proprietary software to
carry on using that instead.  So, I'd like to offer the "typical
proprietary software EULA licensing quiz", with approximately the same
questions

<form action="http://example.com/dummy_url" method="get">
<input type="hidden" name="mode" value="answer" />


<ol>
<li>
<p>

Joan writes a web browser and releases the source code under a
typical-proprietary-EULA on her web site.  Fred gives a CD with
binaries of Joan's browser to his friend for her birthday.  What happens

  <ol>

    <li>
    <input type="radio" name="q1" value="1" />

    Joan sues Fred
    
    </li>
  </ol>


</li>
<li>
<p> Now Fred makes modifications to Joan's web browser, and
distributes binaries on his web site.  What happens?

  <ul>
    <li><b>I.</b> 

    Joan sues Fred (again)

    </li>
  </ul>

<br>

  <ol>
    <li> <input type="radio" name="q2" value="1" />
    
    <b>I</b>, and nothing else.
    
    </li>

    <li> <input type="radio" name="q2" value="2" />
    
    <b>I</b>, and nothing else.
    
    </li>

    <li> <input type="radio" name="q2" value="3" />
    
    <b>I</b>, but nothing else
    
    </li>

    <li> <input type="radio" name="q2" value="4" />
    
    Any or all of <b>I</b>, <b>I</b>,  <b>I</b>, or <b>I</b>
    
    </li>

  </ol>

 


</li>
<li>

<p> Fred wishes to distribute Joan's browser linked to a
third-party module.  The third party module has the following license:
</p>

<tt><blockquote>
This code may be freely modified, copied and distributed, so long as
no fee is charged for it.
</blockquote></tt>

<p> 
Would this violate the typical proprietary EULA?

</p>

  <ol>
    <li>
    <input type="radio" name="q3" value="1" /> 

    
    Yes    </li>

  </ol>

</li>
<li>

<p>
Peter creates a library called LibIdo licensed under a typical
proprietary EULA.  FooCorp distributes a modified version LibIdo
library linked to their proprietary program Frobber.  Which of the
following is <b>not</b> an obligation of FooCorp?

</p>

<ol>
    <li>
    <input type="radio" name="q4" value="1" />
    
    To lose in court
    
    </li>

    <li>
    <input type="radio" name="q4" value="2" />
    
    To settle out of court
    
    </li>
 
</ol>



</li>
<li>
<p>
Joan wants to distribute copies of her browser statically linked
to Postfix (a mail server), which is released under the <a
href="http://oss.software.ibm.com/developerworks/opensource/license10.html">
IBM Public License</a>, a GPL-incompatible Free Software license.
Other than Postfix, the browser includes only code on which Joan holds the
copyright.  Should she grant an exception to her typical proprietary
EULA  for this?
</p>
  <ol>
    <li>
    <input type="radio" name="q5" value="1" />

    
    No, what would be the point?  People can't copy it anyway

    </li>
</ol>


</li>
<li>
<p>
FooCorp distributes binaries of Joan's web browser on CD
without source code.  They include an offer to provide source code.
Which of the following offers fulfills their obligations?
</p>

  <ul>
    <li>
    <b>I.</b>
       "You can download the source code from our web site at
       http://foocorp.example.com/download.html"
    </li>

    <li>
    <b>II.</b>
       "Everyone who buys a binary CD may order up to one source CD
       per binary CD for $5000."  
    </li>
    <li>
    <b>III.</b>
       "Everyone may order a source CD for $5000."
    </li>
    <li>

    <b>IV.</b>
       "Everyone who buys a binary CD may order up to one source CD
       per binary CD for the cost of distribution."  
    </li>
    <li>
    <b>V.</b>
       "Everyone may order a source CD for the cost of distribution."
    </li>
    <li>
    <b>VI.</b>

       "Everyone who buys a binary CD may order up to one source CD
       for free."  
    </li>
    <li>
    <b>VII.</b>
       "Everyone may order a source CD for free."
    </li>
  </ul>
 <ol>
   <li>

   <input type="radio" name="q6" value="1" />
    
    None of the above.  Redistributing Joan's program is Piracy.
    Piracy is Theft.  Theft is Love.  Cleanliness is next to
    Godliness.  Uh, wait ...
       
   </li>
</ol>


</li>
<li>
<p>
Patty creates a library, and releases it under a typical proprietary
EULA.  Many people make improvements to this library, and submit them
back to Patty, who incorporates them into newer versions of the
library.  Now Patty wants to make a proprietary version of this
library.  She makes two claims:</p>

  <ul>
    <li><b>I.</b> 

    Because the original version was under a proprietary EULA,
    everyone who made improvements was acting in breach of the licence

    </li>

    <li><b>II.</b> 

    Because she is the copyright holder, she can relicense the code,
    so nobody can distribute old versions anymore.

    </li>
  </ul>

<p>Are these claims true?</p>

  <ol>
   <li>
    <input type="radio" name="q7" value="1" />

        Both claims are true.  II is a bit meaningless though, as 
        nobody could have legally distributed the old versions anyway.
    
   </li>
  </ol>




</li>
<li>

<p> FooCorp distributes Frobber linked against an unmodified version
of LibIdo.  Does the licence of LibIdo require FooCorp to allow
users to reverse engineer Frobber for their own use?</p>

  <ol>
   <li>
    <input type="radio" name="q8" value="1" />
    
    Yes.
    
   </li>
   <li>
    <input type="radio" name="q8" value="2" />
    
    No, but it prevents FooCorp from doing this anyway
    
   </li>

  </ol>




</li>
<li>

<p>Now FooCorp modifies Joan's browser to include a technology they
have patented.  They distribute this modified browser on CD.  Are
there any requirements in Joan's licence on how they may license their
applicable patent?</p>

  <ol>
   <li>
    <input type="radio" name="q9" value="1" />

    No, but it doesn't matter: they can't do this anyway
    
   </li>

  </ol>
</li>
</ol>


</form>

<p><i>Hope this helps</i>


<p> <b>grip update:</b> having turned off autorepeat, I find now that
clicking "play" after it's already played the disc once causes it to
start on the last track


<h2><a name="5">Wed, 05 Jun 2002 21:01:42 GMT</a>  (<a href="http://ww.noetbook.telent.net/diary/2002/6/#5">#</a>)</h2>


<p> At last I have found out how to turn disc autorepeat off in <a
href="http://nostatic.org/grip/" >Grip</a>.  Now, I know that nobody
takes my ideas on usability seriously (I admitted that I like Emacs,
which pretty much lost me all credibility with the point-click
brigade), but ...

<ol>

<li> Click the `config' tab, then the 'CD' tab of the <i>inner</i>
tab set.  Observe no option to kill the autorepeat.

<li> Check all the other tabs in case it's somewhere stupid like 'misc'
instead.  Nope

<li> Click on the Help tab, observe that all the buttons in there do
absolutely nothing at all.  I don't have the gnome help browser
installed, but silent failure?  The Unix Philosophy(sic) is strong in
this one, master.

<li> Um.  Guess there's no such option, then.  Return to using xmcd

<li> Some months later when new version of grip available, go clicking
very slowly on the "buttons they'd put on a real cd player if real cd players
were designed by vcr manufacturers" section at the bottom, so that we
can see the tooltips

<ul>

<li> The button marked "123" is tooltipped "Toggle play mode options"

<li> When clicked, it creates two more buttons to click on, plus an
expanse of grey space.  

<li> The (right-hand) button tipped "Toggle loop play" switches
between two fairly obvious hieroglyphs - obvious if you ever had a
cassette tape player with "autoreverse", anyway.  Problem solved, but

<li> The other button ("Rotate play mode" - yes!  let's listen to our
cds using rotated play!  eh <i>what?</i>) cycles between "->?", "N"
and "PL".  I'm guessing these denote any of Hyperspace Jump, Neutral
(Natural numbers?  Could be a Dangerous Bend sign, actually) and
Poland.  If anyone can tell me what a rotated Polish play mode is (in
a programming context I'd guess something best implemented with an
operand stack), answers on a postcard ...

<p> In Polish mode it also changes the "random grey space we
apparently didn't have enough buttons left to fill" into "random white
space we apparently didn't have enough buttons left to fill".  Cool.
Maybe it's not Polish, then.  Placard mode?  Placebo mode, could be. 

</li>
</ul></li>
</ol>

<p> I can only assume they're aspiring to the xmms user interface.

<p> ("Initiate/abort DiscDB lookup"?  What's wrong with "Look up
disc/track titles"?  If there's a lookup in progress, change the
tooltip to "Cancel title lookup".  The icon for that one appears to be
a picture of two petrol pumps having sex.)

<p> I'm tempted also to rail about the track skip buttons (click five
times on "next track" and it click click clicks five tracks forward,
then suddenly skips back again four of them), the
skip-forward-in-track button which when held down for five seconds
goes click click click with no other audio output, then resumes play
fifty seconds further on when released, and the
not-always-notice-when-disc-ejected behaviour which causes the new cd,
if longer, to stop playing before it actually gets to the end.  Some
or all of these may be bugs in my cd player hardware, though, so it
may not be fair to blame grip.  

<h2><a name="4">Tue, 04 Jun 2002 16:14:22 GMT</a>  (<a href="http://ww.noetbook.telent.net/diary/2002/6/#4">#</a>)</h2>


<p> <a href="http://ww.telent.net/cliki/CLiki%20News">New stuff</a> in 
CLiki: now you can download the packages straight from the pages (or
even skipping the page completely if you already know the name)

<p>At some point I should almost certainly find a better place to
explain it than `CLiki News': I think a lot of the metacliki pages
need some review.

<h2><a name="2">Sun, 02 Jun 2002 23:53:12 GMT</a>  (<a href="http://ww.noetbook.telent.net/diary/2002/6/#2">#</a>)</h2>


<p> Paolo commented on comp.lang.lisp the other day that <a
href="/cliki/">CLiki</a> had just had its second birthday.  I believe
him, but I can't actually remember, myself.  The first cut at CLiki
sort of sat around being an undirected wiki-type thing; the second
version was very briefly a resource list for the then-new <a
href="http://www.red-bean.com/lispweb/" >lispweb</a> mailing list
("Some things NOT on topic: LispOS mental masturbation"), then a
couple of days later I decided that I really didn't care very much
about Scheme and that it should concentrate on the stuff I personally
find interesting: Common Lisp stuff on Unix.  At or around that point
I <a
href="http://www.red-bean.com/pipermail/lispweb/2000-May/000093.html"
>posted</a> to lispweb, so I guess I could reasonably consider that
the formal opening.  

<p> My suspicion is that the focus is what's made it successful.  I
don't think it's the only possible focus that would have been a
success, but to make anything that even pretends to be a community
site these days I think you have to find people with some degree of
common goals.  This is my rationalization for adding
things like the dreaded <a href="/cliki/non-free">non-free</a> tag or
my comments on the <a href="/cliki/JavaScript">JavaScript</a> page -
it's not because I'm violently opposed to these things, but because
they're off-topic for CLiki.

<p> (The astute reader will already have observed that I side-stepped
the question of whether I am violently opposed to these things or not.
Even if Shaver's <i>not</i> reading this, i know from the referer(sic)
logs that many other people who read his <a
href="http://off.net/~shaver/diary/" >diary</a> are)

<p> After some more digging around for early CLiki references, I find
my <a href="http://www.advogato.org/person/dan/diary.html?start=39"
>old diary entries</a>.  For comparison, as of right now it's had 36
POSTs since 26th May - so, no significant change there in two years,
then.  The number of GETs has gone up an <i>awful</i> lot, admittedly:
<a href="http://ww.telent.net/lisp/cliki/report.html" >analog</a>
gives current values, as well as a strong indication that most of them
were probably search engine robots.

<p> ILISP 5.12.0
<a href="http://www.geocrawler.com/lists/3/SourceForge/7477/0/8826052/"
>happened</a>, which indicates that I may be getting better at
predicting software releases than I was in the bad old days of <a
href=
"http://lemonodor.com/archives/000114.html" >ftx13</a> 

<p>I know I keep saying this (although, apparently, not in this diary: must
be an IRC thing) but you should expect a couple of new cliki features
in the very near future.  According to my TODO list, all the obvious 
prerequisites for upgrading (it needs, among other things, a new SBCL
version on my <a href="http://www.rackspace.com/">shell host</a>,
which tends to imply a pile of other stuff needing testing too) are
satisfied, so now I'm just waiting for a slack time to do the actual
upgrade.  This would be one, except that right now I'm going to go to
bed instead.

<h2><a name="29">Wed, 29 May 2002 14:41:14 GMT</a>  (<a href="http://ww.noetbook.telent.net/diary/2002/5/#29">#</a>)</h2>


<p> I like to imagine that this diary has a host of dedicated readers
who avidly search each new entry for every clue that might help them
work out what kind of mysterious person I am.

<p> Well, actually, no.  The thought gives me the willies, in fact.
But as a sop to any stalkers in the audience (it would make life
simpler if they would set their User-agents appropriately, then at
least I'd have stats) I can now reveal: the <i>misshapen</i> kind.

<p> I'd never previously noticed, but it's plainly obvious from this
afternoon's endeavours to buy a suit.  If only I'd known earlier, I
could have saved the details from one of those spams advertising
"INCREASE YOUR SIZE BY 2 INCHES GUARANTEED", because, frankly, a 32"
inside leg would give me a lot more choice.


<ul><li>Backward to <a href="http://ww.noetbook.telent.net/diary/2002/5/" >May 2002</a></ul>
